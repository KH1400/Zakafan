"use client";

import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Header } from "@/components/fourfold/header";
import { InteractiveBanners } from "@/components/fourfold/interactive-banners";

type Language = 'fa' | 'en' | 'ar' | 'he';

const languageOptions: Record<Language, { name: string; flag: string; dir: 'rtl' | 'ltr'; font: string }> = {
  fa: { name: 'ÙØ§Ø±Ø³ÛŒ', flag: 'ğŸ‡®ğŸ‡·', dir: 'rtl', font: 'font-persian' },
  en: { name: 'English', flag: 'ğŸ‡¬ğŸ‡§', dir: 'ltr', font: 'font-body' },
  ar: { name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦', dir: 'rtl', font: 'font-arabic' },
  he: { name: '×¢×‘×¨×™×ª', flag: 'ğŸ‡®ğŸ‡±', dir: 'rtl', font: 'font-hebrew' },
};

const descriptions = {
    fa: "Ø¯Ø§ÛŒÙ†ÙˆÚ¯Ø±Ø§ÙÛŒØŒ ÛŒÚ© Ù‚Ø§Ù„Ø¨ Ù…Ø­ØªÙˆØ§ÛŒÛŒ Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡ Ùˆ Ø¬Ø¯ÛŒØ¯ Ø§Ø³Øª Ú©Ù‡ Ø´Ù…Ø§ Ø±Ø§ Ø¯Ø± Ù…Ø³ÛŒØ± Ú©Ø³Ø¨ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø¹ØªØ¨Ø± Ùˆ Ø¬Ø§Ù…Ø¹ Ø¨Ù‡ Ø´Ú©Ù„ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ùˆ Ù‡ÙˆØ´Ù…Ù†Ø¯ ÛŒØ§Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§ÛŒÙ† Ù…Ø­ØªÙˆØ§ ØªÙ…Ø§Ù…Ø§ ØªÙˆØ³Ø· Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ùˆ Ù†Ø¸Ø§Ø±Øª Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ùˆ Ù…ØªØ®ØµØµØ§Ù† ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø¯ Ùˆ Ø¨Ù‡ ØªÙ†Ø§ÙˆØ¨ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø¯.",
    en: "Dinography is an innovative content template that assists you in acquiring reliable, comprehensive information seamlessly and intelligently. This content is entirely generated by algorithms under expert supervision and is periodically updated.",
    ar: "Ø¯Ø§ÙŠÙ†ÙˆØºØ±Ø§ÙÙŠ Ù‡Ùˆ Ù‚Ø§Ù„Ø¨ Ù…Ø­ØªÙˆÙ‰ Ù…Ø¨ØªÙƒØ± ÙŠØ³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…ÙˆØ«ÙˆÙ‚Ø© ÙˆØ´Ø§Ù…Ù„Ø© Ø¨Ø°ÙƒØ§Ø¡. ÙŠØªÙ… Ø¥Ù†ØªØ§Ø¬ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨ÙˆØ§Ø³Ø·Ø© Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø°ÙƒÙŠØ© ØªØ­Øª Ø¥Ø´Ø±Ø§Ù Ø®Ø¨Ø±Ø§Ø¡ ÙˆÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ.",
    he: "×“×™× ×•×’×¨×¤×™×” ×”×™× ×ª×‘× ×™×ª ×ª×•×›×Ÿ ×—×“×©× ×™×ª ×”××¡×™×™×¢×ª ×œ×š ×‘×¨×›×™×©×ª ××™×“×¢ ×××™×Ÿ ×•××§×™×£ ×‘××•×¤×Ÿ ××©×•×œ×‘ ×•×—×›×. ×ª×•×›×Ÿ ×–×” ××•×¤×§ ×¢×œ ×™×“×™ ××œ×’×•×¨×™×ª××™× ×‘×¤×™×§×•×— ××•××—×™× ×•××ª×¢×“×›×Ÿ ××¢×ª ×œ×¢×ª."
};

export default function Home() {
  const [language, setLanguage] = useState<Language | null>(null);

  if (!language) {
    return (
      <main className="flex flex-col items-center justify-center min-h-screen bg-background text-foreground p-6">
        <div className="mb-12">
           <svg
              viewBox="0 0 250 60"
              className="h-24 w-auto"
              xmlns="http://www.w3.org/2000/svg"
            >
              <text
                x="0"
                y="30"
                fontSize="32"
                fontWeight="bold"
                fill="hsl(var(--primary))"
                className="font-headline"
              >
                Zakafan
              </text>
              <text
                x="0"
                y="50"
                fontSize="14"
                fontWeight="bold"
                fill="hsl(var(--foreground))"
                opacity="0.8"
                className="font-persian"
              >
                Ù…Ø±Ø¬Ø¹ Ø¯Ø§ÛŒÙ†ÙˆÚ¯Ø±Ø§ÙÛŒ
              </text>
              <g transform="translate(190, 0)">
                <rect width="60" height="60" rx="12" fill="hsl(var(--accent))" />
                <g
                  stroke="hsl(var(--primary))"
                  strokeWidth="2.5"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  fill="none"
                >
                  <path d="M42,21 C42,26.5228475 37.5228475,31 32,31 L28,31 C22.4771525,31 18,26.5228475 18,21 C18,15.4771525 22.4771525,11 28,11 C33.5228475,11 37.8,15.4771525 37.8,21" />
                  <path d="M28,31 L28,38 C28,39.1045695 27.1045695,40 26,40 L22,40" />
                  <path d="M32,17 L38,17" />
                  <circle cx="40" cy="17" r="2.5" />
                  <path d="M35,24 L42,24" />
                  <circle cx="44" cy="24" r="2.5" />
                  <path d="M32,31 L36,31" />
                  <circle cx="38" cy="31" r="2.5" />
                  <path d="M28,11 L28,15" />
                  <circle cx="28" cy="17" r="2.5" />
                </g>
              </g>
            </svg>
        </div>
        <div className="flex flex-wrap justify-center gap-4">
          {(Object.keys(languageOptions) as Language[]).map((key) => (
            <Button
              key={key}
              variant="outline"
              className="p-8 text-2xl h-auto"
              onClick={() => setLanguage(key)}
            >
              <span className="text-4xl me-4">{languageOptions[key].flag}</span>
              <span className={languageOptions[key].font}>{languageOptions[key].name}</span>
            </Button>
          ))}
        </div>
        <div className="text-center mt-12 max-w-3xl space-y-3">
            <p className="text-sm text-muted-foreground font-persian" dir="rtl">{descriptions.fa}</p>
            <p className="text-sm text-muted-foreground font-body">{descriptions.en}</p>
            <p className="text-sm text-muted-foreground font-arabic" dir="rtl">{descriptions.ar}</p>
            <p className="text-sm text-muted-foreground font-hebrew" dir="rtl">{descriptions.he}</p>
        </div>
      </main>
    );
  }

  const selectedLang = languageOptions[language];

  return (
    <div
      dir={selectedLang.dir}
      className={`${selectedLang.font} flex flex-col h-screen w-screen bg-background`}
    >
      <Header onLanguageChangeClick={() => setLanguage(null)} />
      <main className="flex-grow overflow-hidden">
        <InteractiveBanners lang={language} />
      </main>
    </div>
  );
}
